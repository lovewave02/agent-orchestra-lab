<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Agent Orchestra Lab</title>
    <link rel="stylesheet" href="/static/styles.css" />
  </head>
  <body>
    <main class="page">
      <header class="hero card">
        <h1>Agent Orchestra Lab</h1>
        <p>
          작업 유형에 따라 에이전트를 라우팅하고, 실행 결과를 누적 지표로 확인하는 실험 페이지입니다.
          입력 후 실행하면 결과/성공률/지연시간/토큰비용이 바로 반영됩니다.
        </p>
      </header>

      <section class="card form-card">
        <h2>작업 실행</h2>
        <div class="grid">
          <label>
            작업 ID
            <input id="taskId" type="text" placeholder="task-001" />
          </label>
          <label>
            작업 유형
            <select id="taskType">
              <option value="summarize">summarize</option>
              <option value="qa">qa</option>
              <option value="plan">plan</option>
            </select>
          </label>
        </div>
        <label>
          작업 내용
          <textarea id="content" rows="5" placeholder="요약/질문/계획 요청 내용을 입력하세요."></textarea>
        </label>
        <div class="actions">
          <button id="runButton" type="button">실행</button>
          <button id="sampleButton" type="button" class="ghost">예시 입력</button>
          <span id="status">준비됨</span>
        </div>
      </section>

      <section class="card stats-card">
        <h2>누적 지표</h2>
        <div id="stats" class="metrics"></div>
      </section>

      <section class="card output-card">
        <h2>최근 실행 결과</h2>
        <pre id="lastOutput">아직 실행되지 않았습니다.</pre>
      </section>

      <section class="card history-card">
        <h2>실행 이력 (최신 20건)</h2>
        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th>시간</th>
                <th>Task ID</th>
                <th>Agent</th>
                <th>성공</th>
                <th>지연(ms)</th>
                <th>토큰비용</th>
              </tr>
            </thead>
            <tbody id="historyBody">
              <tr><td colspan="6" class="empty">실행 이력이 없습니다.</td></tr>
            </tbody>
          </table>
        </div>
      </section>
    </main>

    <script type="module" src="/static/main.js"></script>
  </body>
</html>
